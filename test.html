<canvas id="canvas1" width="640", height="480">
Random Canvas
</canvas>

<script type="text/javascript">
	function setPixel(imageData, x, y, c) {
		index = (x + y * imageData.width) * 4;
		imageData.data[index+0] = c[0];
		imageData.data[index+1] = c[1];
		imageData.data[index+2] = c[2];
		imageData.data[index+3] = 255;
	}

	element = document.getElementById("canvas1");
	c = element.getContext("2d");

	// read the width and height of the canvas
	width = element.width;
	height = element.height;

	// create a new pixel array
	imageData = c.createImageData(width, height);

	// draw random dots
	for (var y = 0; y < 480; y++) {
		for (var x = 0; x < 480; x++) {
			//console.log(x + ',' + y);
			setPixel(imageData,x,y,[255,0,0]);
			//setPixel(pic, x, y, pixelsRGB[x][y]);
		}
	}


	// copy the image data back onto the canvas
	c.putImageData(imageData, 0, 0); // at coords 0,0

</script>